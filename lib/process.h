#ifndef __PROCESS_H__
#define __PROCESS_H__

#ifdef __cplusplus
extern "C" {
#endif

#ifndef M_PI
#define M_PI 3.14159265358979323846
#endif // !M_PI

static const int16_t hamming_window_lut[306] = {
    2621, 2624, 2634, 2650, 2672, 2701, 2736, 2777, 2825, 2879, 
    2940, 3006, 3079, 3158, 3244, 3335, 3432, 3536, 3645, 3761, 
    3882, 4010, 4143, 4281, 4426, 4576, 4732, 4893, 5060, 5232, 
    5409, 5592, 5779, 5972, 6170, 6372, 6580, 6792, 7008, 7230, 
    7455, 7685, 7920, 8158, 8401, 8647, 8897, 9151, 9409, 9670, 
    9935, 10202, 10473, 10748, 11025, 11304, 11587, 11872, 12160, 12450, 
    12742, 13036, 13333, 13631, 13931, 14232, 14535, 14839, 15145, 15451, 
    15759, 16067, 16376, 16686, 16996, 17306, 17617, 17927, 18238, 18548, 
    18858, 19167, 19476, 19783, 20091, 20397, 20701, 21005, 21307, 21608, 
    21907, 22204, 22500, 22793, 23084, 23373, 23659, 23943, 24224, 24503, 
    24778, 25051, 25320, 25587, 25849, 26109, 26365, 26617, 26865, 27110, 
    27350, 27586, 27819, 28046, 28270, 28489, 28703, 28913, 29118, 29318, 
    29513, 29704, 29889, 30069, 30243, 30413, 30577, 30735, 30888, 31035, 
    31177, 31313, 31443, 31568, 31686, 31799, 31905, 32006, 32100, 32188, 
    32271, 32346, 32416, 32480, 32537, 32588, 32633, 32671, 32703, 32728, 
    32748, 32760, 32767, 32767, 32760, 32748, 32728, 32703, 32671, 32633, 
    32588, 32537, 32480, 32416, 32346, 32271, 32188, 32100, 32006, 31905, 
    31799, 31686, 31568, 31443, 31313, 31177, 31035, 30888, 30735, 30577, 
    30413, 30243, 30069, 29889, 29704, 29513, 29318, 29118, 28913, 28703, 
    28489, 28270, 28046, 27819, 27586, 27350, 27110, 26865, 26617, 26365, 
    26109, 25849, 25587, 25320, 25051, 24778, 24503, 24224, 23943, 23659, 
    23373, 23084, 22793, 22500, 22204, 21907, 21608, 21307, 21005, 20701, 
    20397, 20091, 19783, 19476, 19167, 18858, 18548, 18238, 17927, 17617, 
    17306, 16996, 16686, 16376, 16067, 15759, 15451, 15145, 14839, 14535, 
    14232, 13931, 13631, 13333, 13036, 12742, 12450, 12160, 11872, 11587, 
    11304, 11025, 10748, 10473, 10202, 9935, 9670, 9409, 9151, 8897, 
    8647, 8401, 8158, 7920, 7685, 7455, 7230, 7008, 6792, 6580, 
    6372, 6170, 5972, 5779, 5592, 5409, 5232, 5060, 4893, 4732, 
    4576, 4426, 4281, 4143, 4010, 3882, 3761, 3645, 3536, 3432, 
    3335, 3244, 3158, 3079, 3006, 2940, 2879, 2825, 2777, 2736, 
    2701, 2672, 2650, 2634, 2624, 2621
};

int ceil_div(int a, int b);
void hamming_window(int32_t *frame, int frame_size);
int32_t** frame_signal_int(const int16_t *samples, int num_samples, int frame_size, int frame_step, int *out_num_frames);
void pre_emphasis(int16_t *samples, size_t sample_count, int16_t alpha);

#ifdef __cplusplus
}
#endif

#endif // __PROCESS_H__